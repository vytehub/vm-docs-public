"use strict";(self.webpackChunkvyte_merge_docs=self.webpackChunkvyte_merge_docs||[]).push([[1805],{674:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"domain-behavior/core-flows/follow-and-feed","title":"Flow 03 - Follow, aprobaci\xf3n y Feed","description":"Un usuario sigue un perfil, puede requerir aprobaci\xf3n, y luego consume posts y listings en feed.","source":"@site/docs/01-domain-behavior/01-core-flows/03-follow-and-feed.md","sourceDirName":"01-domain-behavior/01-core-flows","slug":"/domain-behavior/core-flows/follow-and-feed","permalink":"/vm-docs-public/en/docs/domain-behavior/core-flows/follow-and-feed","draft":false,"unlisted":false,"editUrl":"https://github.com/vytehub/vm-docs/tree/main/docs/01-domain-behavior/01-core-flows/03-follow-and-feed.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Flow 03 - Follow, aprobaci\xf3n y Feed","description":"Un usuario sigue un perfil, puede requerir aprobaci\xf3n, y luego consume posts y listings en feed."},"sidebar":"tutorialSidebar","previous":{"title":"Flow 02 - Abrir Listing y crear Booking","permalink":"/vm-docs-public/en/docs/domain-behavior/core-flows/open-and-book"},"next":{"title":"Flow 04 - Search/Discovery \u2192 abrir Listing \u2192 reservar","permalink":"/vm-docs-public/en/docs/domain-behavior/core-flows/search-discovery-to-book"}}');var s=n(74848),l=n(28453);const r={title:"Flow 03 - Follow, aprobaci\xf3n y Feed",description:"Un usuario sigue un perfil, puede requerir aprobaci\xf3n, y luego consume posts y listings en feed."},d="Flow 03 \u2014 Follow, aprobaci\xf3n y Feed",c={},a=[{value:"Resumen",id:"resumen",level:2},{value:"Preconditions",id:"preconditions",level:2},{value:"Main Flow (paso a paso)",id:"main-flow-paso-a-paso",level:2},{value:"Domain Trace (Command \u2192 Aggregate \u2192 Event)",id:"domain-trace-command--aggregate--event",level:2},{value:"Edge Cases",id:"edge-cases",level:2},{value:"Links (fuente de verdad)",id:"links-fuente-de-verdad",level:2}];function t(e){const i={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"flow-03--follow-aprobaci\xf3n-y-feed",children:"Flow 03 \u2014 Follow, aprobaci\xf3n y Feed"})}),"\n",(0,s.jsx)(i.h2,{id:"resumen",children:"Resumen"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Goal:"})," que un usuario siga a un perfil (persona/negocio), con reglas de privacidad, y luego vea posts/listings en superficies (feed/discovery)."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Actores:"})," Usuario A, Perfil B (usuario/negocio), Sistema VyteMerge."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Contextos:"})," Social (profiles, graph, posts), Governance (privacy/access), Discovery/Suggest (feed surfaces), Communication (notifications)."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"preconditions",children:"Preconditions"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Perfiles A y B existen."}),"\n",(0,s.jsx)(i.li,{children:"Reglas de privacidad de B conocidas (p\xfablico/privado/aprobaci\xf3n)."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"main-flow-paso-a-paso",children:"Main Flow (paso a paso)"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Usuario A visita Profile B."}),"\n",(0,s.jsx)(i.li,{children:"Usuario A ejecuta Follow."}),"\n",(0,s.jsxs)(i.li,{children:["Sistema eval\xfaa pol\xedtica:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"si B es p\xfablico: follow se activa inmediatamente"}),"\n",(0,s.jsx)(i.li,{children:"si B requiere aprobaci\xf3n: queda pendiente"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"(Si aplica) B aprueba o rechaza."}),"\n",(0,s.jsx)(i.li,{children:"Sistema actualiza Social Graph y recalcula elegibilidad del Feed."}),"\n",(0,s.jsxs)(i.li,{children:["Usuario A ve en su Feed:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"posts de B"}),"\n",(0,s.jsx)(i.li,{children:"listings de B (si visible y published)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Notificaciones:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"B recibe request/confirmaci\xf3n de follow"}),"\n",(0,s.jsx)(i.li,{children:"A recibe resultado (aprobado/rechazado)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"domain-trace-command--aggregate--event",children:"Domain Trace (Command \u2192 Aggregate \u2192 Event)"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Command:"})," ",(0,s.jsx)(i.code,{children:"RequestFollow"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Aggregate:"})," ",(0,s.jsx)(i.code,{children:"SocialGraph"})," / ",(0,s.jsx)(i.code,{children:"FollowRelation"})]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Events:"})," ",(0,s.jsx)(i.code,{children:"FollowRequested"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Command:"})," ",(0,s.jsx)(i.code,{children:"ApproveFollow"})," / ",(0,s.jsx)(i.code,{children:"RejectFollow"})," (si privado)","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Aggregate:"})," ",(0,s.jsx)(i.code,{children:"FollowRelation"})]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Events:"})," ",(0,s.jsx)(i.code,{children:"FollowApproved"})," / ",(0,s.jsx)(i.code,{children:"FollowRejected"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Projections:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"FeedEligibilityUpdated"})}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"SuggestInputsUpdated"})," (si aplica)"]}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"NotificationsEnqueued"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"edge-cases",children:"Edge Cases"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Bloqueos/privacidad: follow puede estar prohibido por Access rules."}),"\n",(0,s.jsxs)(i.li,{children:["Unfollow: debe retirar contenido del feed (\xbfinmediato o eventual?). ",(0,s.jsx)(i.strong,{children:"NEEDS CLARIFICATION"})]}),"\n",(0,s.jsx)(i.li,{children:"Rate limits/abuse: moderaci\xf3n. (documentar luego)"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"links-fuente-de-verdad",children:"Links (fuente de verdad)"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Social overview: ",(0,s.jsx)(i.code,{children:"docs/00-core-domain/04-bounded-contexts/04.Social & Discovery/01.social/01.overview.md"})]}),"\n",(0,s.jsxs)(i.li,{children:["Profiles: ",(0,s.jsx)(i.code,{children:"docs/00-core-domain/04-bounded-contexts/04.Social & Discovery/01.social/02.profiles.md"})]}),"\n",(0,s.jsxs)(i.li,{children:["Social graph: ",(0,s.jsx)(i.code,{children:"docs/00-core-domain/04-bounded-contexts/04.Social & Discovery/01.social/03.social-graph.md"})]}),"\n",(0,s.jsxs)(i.li,{children:["Privacy: ",(0,s.jsx)(i.code,{children:"docs/00-core-domain/04-bounded-contexts/04.Social & Discovery/01.social/06.privacy-moderation.md"})]}),"\n",(0,s.jsxs)(i.li,{children:["Discovery/Feed: ",(0,s.jsx)(i.code,{children:"docs/00-core-domain/04-bounded-contexts/04.Social & Discovery/04.search_discovery/04.discovery.md"})]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>d});var o=n(96540);const s={},l=o.createContext(s);function r(e){const i=o.useContext(l);return o.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(l.Provider,{value:i},e.children)}}}]);