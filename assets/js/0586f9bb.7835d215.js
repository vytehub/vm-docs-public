"use strict";(self.webpackChunkvyte_merge_docs=self.webpackChunkvyte_merge_docs||[]).push([[5087],{1022:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"epicas/VyteMerge_Epica_Platform_Setup","title":"\xc9pica: Platform & Infrastructure Setup (MVP)","description":"Contexto / Objetivo","source":"@site/docs/epicas/VyteMerge_Epica_Platform_Setup.md","sourceDirName":"epicas","slug":"/epicas/VyteMerge_Epica_Platform_Setup","permalink":"/vm-docs-public/docs/epicas/VyteMerge_Epica_Platform_Setup","draft":false,"unlisted":false,"editUrl":"https://github.com/vytehub/vm-docs/tree/main/docs/epicas/VyteMerge_Epica_Platform_Setup.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Epicas","permalink":"/vm-docs-public/docs/category/epicas"}}');var r=n(4848),l=n(8453);const c={},d="\xc9pica: Platform & Infrastructure Setup (MVP)",o={},a=[{value:"Contexto / Objetivo",id:"contexto--objetivo",level:2},{value:"Alcance (In / Out)",id:"alcance-in--out",level:2},{value:"Requisitos (t\xe9cnicos / no funcionales)",id:"requisitos-t\xe9cnicos--no-funcionales",level:2},{value:"Dise\xf1o (Arquitectura de Plataforma)",id:"dise\xf1o-arquitectura-de-plataforma",level:2},{value:"Repos / Estructura inicial",id:"repos--estructura-inicial",level:2},{value:"CI/CD (pipeline de referencia)",id:"cicd-pipeline-de-referencia",level:2},{value:"Entornos &amp; Naming",id:"entornos--naming",level:2},{value:"Seguridad &amp; Accesos",id:"seguridad--accesos",level:2},{value:"Observabilidad",id:"observabilidad",level:2},{value:"Costos / Guardrails",id:"costos--guardrails",level:2},{value:"Datos de Configuraci\xf3n (modelo m\xednimo)",id:"datos-de-configuraci\xf3n-modelo-m\xednimo",level:2},{value:"API (plataforma)",id:"api-plataforma",level:2},{value:"Plan de Implementaci\xf3n (sprints sugeridos)",id:"plan-de-implementaci\xf3n-sprints-sugeridos",level:2},{value:"Acceptance Criteria (\xe9pica)",id:"acceptance-criteria-\xe9pica",level:2},{value:"KPIs (plataforma)",id:"kpis-plataforma",level:2},{value:"Riesgos &amp; Open Questions",id:"riesgos--open-questions",level:2},{value:"Checklist / Next Steps",id:"checklist--next-steps",level:2},{value:"Backlog Jira (\xc9pica \u2192 Historias \u2192 Subtareas)",id:"backlog-jira-\xe9pica--historias--subtareas",level:2},{value:"Story 1 \u2014 Repos &amp; CI B\xe1sico",id:"story-1--repos--ci-b\xe1sico",level:3},{value:"Story 2 \u2014 Contenedores &amp; AKS (dev/stg)",id:"story-2--contenedores--aks-devstg",level:3},{value:"Story 3 \u2014 Seguridad &amp; Secrets",id:"story-3--seguridad--secrets",level:3},{value:"Story 4 \u2014 Observabilidad",id:"story-4--observabilidad",level:3},{value:"Story 5 \u2014 Datos &amp; Mensajer\xeda",id:"story-5--datos--mensajer\xeda",level:3},{value:"Story 6 \u2014 Front Door &amp; WAF",id:"story-6--front-door--waf",level:3},{value:"Story 7 \u2014 IR Base (AI Search &amp; Endpoints)",id:"story-7--ir-base-ai-search--endpoints",level:3}];function t(e){const s={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",mermaid:"mermaid",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"\xe9pica-platform--infrastructure-setup-mvp",children:"\xc9pica: Platform & Infrastructure Setup (MVP)"})}),"\n",(0,r.jsx)(s.h2,{id:"contexto--objetivo",children:"Contexto / Objetivo"}),"\n",(0,r.jsxs)(s.p,{children:["Preparar la ",(0,r.jsx)(s.strong,{children:"plataforma base"})," para que el equipo (1 dev Sr, 1 dev Jr, 1 dise\xf1adora Jr) pueda ",(0,r.jsx)(s.strong,{children:"entregar el MVP web"})," con ciclos de despliegue seguros y medibles. La \xe9pica abarca ",(0,r.jsx)(s.strong,{children:"repos, CI/CD, cloud (Azure), seguridad b\xe1sica, observabilidad"}),", y el ",(0,r.jsx)(s.strong,{children:"esqueleto"})," para el ",(0,r.jsx)(s.strong,{children:"IR Service (IA + Search)"})," separado desde el d\xeda 1."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Metas clave"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.em,{children:"Time\u2011to\u2011market"})," r\xe1pido con ",(0,r.jsx)(s.strong,{children:".NET 8 + Angular"})," y ",(0,r.jsx)(s.strong,{children:"AKS"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Aislar ",(0,r.jsx)(s.strong,{children:"IR (IA + Search)"})," en un servicio independiente."]}),"\n",(0,r.jsxs)(s.li,{children:["Est\xe1ndares de ",(0,r.jsx)(s.strong,{children:"versionado"}),", ",(0,r.jsx)(s.strong,{children:"branching"})," (",(0,r.jsx)(s.em,{children:"trunk\u2011based"}),"), ",(0,r.jsx)(s.strong,{children:"feature flags"}),", ",(0,r.jsx)(s.strong,{children:"telemetr\xeda"})," y ",(0,r.jsx)(s.strong,{children:"secrets"})," desde el inicio."]}),"\n",(0,r.jsxs)(s.li,{children:["Costos controlados con ",(0,r.jsx)(s.strong,{children:"SKUs m\xednimos"})," y escalado progresivo."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"alcance-in--out",children:"Alcance (In / Out)"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Incluye"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Repos y estructura inicial (FE repos separados; BE polyrepo; IR service propio)."}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"CI/CD"})," con GitHub Actions: build, test, security checks, contenedores y despliegue a ",(0,r.jsx)(s.strong,{children:"dev/staging/prod"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Azure"}),": ",(0,r.jsx)(s.strong,{children:"AKS"}),", ",(0,r.jsx)(s.strong,{children:"Azure Front Door (CDN/WAF)"}),", ",(0,r.jsx)(s.strong,{children:"Azure Key Vault"}),", ",(0,r.jsx)(s.strong,{children:"Application Insights (OTel)"}),", ",(0,r.jsx)(s.strong,{children:"Azure App Configuration (Feature Flags)"}),", ",(0,r.jsx)(s.strong,{children:"Azure Service Bus"}),", ",(0,r.jsx)(s.strong,{children:"Azure Cache for Redis"}),", ",(0,r.jsx)(s.strong,{children:"Azure Blob Storage"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Provisi\xf3n inicial (IaC) de ",(0,r.jsx)(s.strong,{children:"PostgreSQL"})," (Flexible Server) como DB core."]}),"\n",(0,r.jsxs)(s.li,{children:["Pipeline de ",(0,r.jsx)(s.strong,{children:"infra"})," (IaC) para ambientes ",(0,r.jsx)(s.code,{children:"dev"}),", ",(0,r.jsx)(s.code,{children:"stg"}),", ",(0,r.jsx)(s.code,{children:"prod"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Health endpoints"})," y chequeos de ",(0,r.jsx)(s.em,{children:"readiness/liveness"})," para BFF, Monolito y IR."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Fuera de alcance (de esta \xe9pica)"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Funcionalidad de dominio (Offerings/Slots/Booking/Social/Campaigns)."}),"\n",(0,r.jsx)(s.li,{children:"Modelo de ranking avanzado y A/B testing (Fase 1.5)."}),"\n",(0,r.jsx)(s.li,{children:"SSR/PWA, app mobile (se preparan hooks, no se implementan aqu\xed)."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Suposiciones"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Cloud: ",(0,r.jsx)(s.strong,{children:"Azure"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["DB: ",(0,r.jsx)(s.strong,{children:"PostgreSQL"})," (core); Redis para cache; Service Bus para eventos."]}),"\n",(0,r.jsxs)(s.li,{children:["IR Provider (inicial): ",(0,r.jsx)(s.strong,{children:"Azure AI Search"})," (texto+vector); embeddings en ",(0,r.jsx)(s.strong,{children:"Azure OpenAI"})," (batch)."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"requisitos-t\xe9cnicos--no-funcionales",children:"Requisitos (t\xe9cnicos / no funcionales)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Disponibilidad (MVP)"}),": 99.5% (apps) con al menos 2 instancias en ",(0,r.jsx)(s.code,{children:"prod"})," (cuando corresponda)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Seguridad"}),": TLS 1.2+, secretos en Key Vault, ",(0,r.jsx)(s.em,{children:"least privilege"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Observabilidad"}),": Trazas (OTel), logs estructurados, m\xe9tricas clave y dashboards."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"CI/CD"}),": Despliegue automatizado a ",(0,r.jsx)(s.code,{children:"dev"})," y ",(0,r.jsx)(s.code,{children:"stg"}),", ",(0,r.jsx)(s.em,{children:"manual approval"})," a ",(0,r.jsx)(s.code,{children:"prod"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Performance"}),": p95 ",(0,r.jsx)(s.code,{children:"/search"})," y ",(0,r.jsx)(s.code,{children:"/feed"})," \u2264 300ms (validado en ",(0,r.jsx)(s.code,{children:"stg"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Costos"}),": uso de SKUs m\xednimos y ",(0,r.jsx)(s.em,{children:"autoscale"})," controlado."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"dise\xf1o-arquitectura-de-plataforma",children:"Dise\xf1o (Arquitectura de Plataforma)"}),"\n",(0,r.jsx)(s.mermaid,{value:"flowchart TB\n  Dev[GitHub] --\x3e CI[GitHub Actions]\n  CI --\x3e REG[Azure Container Registry]\n  CI --\x3e IAC[IaC Bicep y Terraform]\n  IAC --\x3e AZSUB[Azure Subscription]\n\n  subgraph AZURE [Azure]\n    FD[Azure Front Door CDN WAF]\n    AKS[AKS Kubernetes]\n    KV[Key Vault]\n    AI[Application Insights]\n    AC[App Configuration Feature Flags]\n    SB[Service Bus]\n    RED[Azure Cache for Redis]\n    BLOB[Blob Storage]\n    PG[PostgreSQL]\n    AIS[Azure AI Search]\n  end\n\n  REG --\x3e AKS\n  FD --\x3e AKS\n  AKS --\x3e PG\n  AKS --\x3e RED\n  AKS --\x3e SB\n  AKS --\x3e BLOB\n  AKS --\x3e AI\n  AKS --\x3e AC\n  AKS --\x3e KV\n  AKS --\x3e AIS"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Componentes principales"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"AKS"}),": orquesta BFF, Monolito y IR Service (pods con HPA)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Front Door"}),": terminaci\xf3n TLS, CDN, WAF, ",(0,r.jsx)(s.em,{children:"routing"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Key Vault"}),": secretos/keys para apps/pipelines."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"App Insights"}),": logs, m\xe9tricas, trazas (OTel)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"App Configuration"}),": ",(0,r.jsx)(s.strong,{children:"feature flags"})," para ",(0,r.jsx)(s.em,{children:"trunk\u2011based"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Service Bus"}),": eventos de dominio/se\xf1ales."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Redis"}),": cache para ",(0,r.jsx)(s.code,{children:"/search"}),", ",(0,r.jsx)(s.code,{children:"/feed"})," y sesiones."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Blob"}),": media y adjuntos."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"PostgreSQL"}),": DB core con backups autom\xe1ticos."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Azure AI Search"}),": \xedndice de texto + vector (para IR)."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"repos--estructura-inicial",children:"Repos / Estructura inicial"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Frontend"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"vyte-web-shell"})," (Angular SPA, rutas, auth)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"vt-toolkit"})," (design system)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"vt-shared"})," (utilidades/SDK)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Backend"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"vytemerge-backend"})," (Monolito modular .NET 8 + CQRS + BFF)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"vytemerge-ir-service"})," (",(0,r.jsx)(s.strong,{children:"IR"}),": IA + Search; FastAPI Python ",(0,r.jsx)(s.em,{children:"propuesto"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Branching"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Trunk\u2011based"})," con ramas cortas; ",(0,r.jsx)(s.code,{children:"main"})," protegido; ",(0,r.jsx)(s.em,{children:"feature flags"})," para ",(0,r.jsx)(s.em,{children:"dark\u2011launch"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"cicd-pipeline-de-referencia",children:"CI/CD (pipeline de referencia)"}),"\n",(0,r.jsx)(s.mermaid,{value:"sequenceDiagram\n  participant Dev as Dev\n  participant GH as GitHub\n  participant CI as Actions (CI)\n  participant REG as ACR\n  participant AKS as AKS\n  Dev->>GH: push PR (feature/*)\n  GH->>CI: trigger lint+test+build\n  CI->>CI: security (SCA/SAST)\n  CI->>REG: push images :tag-SHA\n  CI->>AKS: deploy dev (auto)\n  Dev->>GH: merge to main\n  GH->>CI: build+push images :release\n  CI->>AKS: deploy stg (auto) + tests smoke\n  CI->>AKS: deploy prod (manual approval)"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Checks m\xednimos por pipeline"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Lint + unit + e2e (cuando aplique)."}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.em,{children:"SBOM"})," y SCA (dependabot/trivy)."]}),"\n",(0,r.jsx)(s.li,{children:"Firma de contenedores (cosign, opcional)."}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.em,{children:"Smoke tests"})," post\u2011deploy; ",(0,r.jsx)(s.em,{children:"rollbacks"})," automatizados."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"entornos--naming",children:"Entornos & Naming"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Entornos"}),": ",(0,r.jsx)(s.code,{children:"dev"}),", ",(0,r.jsx)(s.code,{children:"stg"}),", ",(0,r.jsx)(s.code,{children:"prod"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Convenciones"}),": ",(0,r.jsx)(s.code,{children:"rg-vyte-{env}"}),", ",(0,r.jsx)(s.code,{children:"aks-vyte-{env}"}),", ",(0,r.jsx)(s.code,{children:"kv-vyte-{env}"}),"\u2026"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Dominios"}),": ",(0,r.jsx)(s.code,{children:"app.dev.vytemerge.com"}),", ",(0,r.jsx)(s.code,{children:"app.stg..."}),", ",(0,r.jsx)(s.code,{children:"app.vytemerge.com"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Images"}),": ",(0,r.jsx)(s.code,{children:"acr.io/vyte/{service}:{git-sha|semver}"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"seguridad--accesos",children:"Seguridad & Accesos"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Identidad"}),": Managed Identity para pods que acceden a Key Vault/App Config."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Secretos"}),": almacenados en ",(0,r.jsx)(s.strong,{children:"Key Vault"}),"; ",(0,r.jsx)(s.em,{children:"mounted"})," por CSI Driver en AKS."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Policies"}),": ",(0,r.jsx)(s.em,{children:"least privilege"}),", RBAC por entorno; bloqueo de ",(0,r.jsx)(s.em,{children:"public network"})," en DB cuando sea posible."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"WAF"}),": reglas OWASP en Front Door; rate limit b\xe1sico."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Auth"}),": JWT corto + refresh; ",(0,r.jsx)(s.em,{children:"rate limiting"})," en BFF."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"observabilidad",children:"Observabilidad"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"OpenTelemetry"}),": trazas desde FE (traceId) \u2192 BFF \u2192 Monolito/IR \u2192 dependencias."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Dashboards"})," (App Insights):","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["p95 ",(0,r.jsx)(s.code,{children:"/search"}),", ",(0,r.jsx)(s.code,{children:"/feed"}),", error rate, colas Service Bus, CPU/RAM pods."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Alertas"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"p95 > umbral, error rate > X%, backlog en cola > N, pod restarts > K."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Log"}),": estructurado (Serilog/Pydantic), sin PII sensible."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"costos--guardrails",children:"Costos / Guardrails"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"SKUs m\xednimos"})," (S1 en AI Search; Redis/Service Bus b\xe1sicos al inicio)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Autoscale"})," conservador (HPA por CPU/requests)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"App Insights"})," con ",(0,r.jsx)(s.em,{children:"sampling"})," 10\u201320% en ",(0,r.jsx)(s.code,{children:"prod"})," (ajustable)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Embeddings batch"})," (no ",(0,r.jsx)(s.em,{children:"on\u2011demand"}),") para controlar costos."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"datos-de-configuraci\xf3n-modelo-m\xednimo",children:"Datos de Configuraci\xf3n (modelo m\xednimo)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"FeatureFlag"}),": ",(0,r.jsx)(s.code,{children:"{ key, env, enabled, rollout, owner }"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"SecretRef"}),": ",(0,r.jsx)(s.code,{children:"{ name, kvPath, scope (svc/env), rotation }"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"ServiceEndpoint"}),": ",(0,r.jsx)(s.code,{children:"{ name, url, version }"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"api-plataforma",children:"API (plataforma)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Health"}),": ",(0,r.jsx)(s.code,{children:"GET /healthz"})," (liveness), ",(0,r.jsx)(s.code,{children:"GET /readyz"})," (readiness) en BFF/Monolito/IR."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Metrics"}),": ",(0,r.jsx)(s.code,{children:"/metrics"})," (si aplica Prom exporter) y App Insights/OTel."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Versionado"}),": BFF expone ",(0,r.jsx)(s.code,{children:"Accept: application/vnd.vytemerge.v1+json"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"plan-de-implementaci\xf3n-sprints-sugeridos",children:"Plan de Implementaci\xf3n (sprints sugeridos)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sprint 0 (Foundation)"}),": Repos, CI, ACR, ",(0,r.jsx)(s.em,{children:"hello\u2011world"})," en AKS, Key Vault, App Insights, App Config, Front Door."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sprint 1 (DB & Messaging)"}),": PostgreSQL, Redis, Service Bus, secretos y permisos, ",(0,r.jsx)(s.em,{children:"readiness/liveness"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sprint 2 (IR base)"}),": Provisi\xf3n AI Search, ",(0,r.jsx)(s.em,{children:"indexer"})," base, contrato ",(0,r.jsx)(s.code,{children:"/search"})," y ",(0,r.jsx)(s.code,{children:"/feed"}),", Redis cache, dashboards y alertas."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"acceptance-criteria-\xe9pica",children:"Acceptance Criteria (\xe9pica)"}),"\n",(0,r.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Pipelines ",(0,r.jsx)(s.strong,{children:"verdes"})," con build/test/lint y artefactos empujados a ACR."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(s.strong,{children:"Deploy autom\xe1tico"})," a ",(0,r.jsx)(s.code,{children:"dev"})," y ",(0,r.jsx)(s.code,{children:"stg"}),"; ",(0,r.jsx)(s.strong,{children:"manual"})," a ",(0,r.jsx)(s.code,{children:"prod"}),"."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(s.strong,{children:"Key Vault"})," integrado; ninguna credencial en repos."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(s.strong,{children:"OpenTelemetry"})," enlaza FE\u2192BFF\u2192Monolito/IR (traceId visible en App Insights)."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(s.strong,{children:"Health checks"})," activos; ",(0,r.jsx)(s.em,{children:"readiness"})," condiciona el tr\xe1fico."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(s.strong,{children:"Dashboards"})," y ",(0,r.jsx)(s.strong,{children:"alertas"})," (p95, error\u2011rate, backlog colas)."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(s.strong,{children:"Cost guardrails"})," documentados y activos (sampling, autoscale)."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"kpis-plataforma",children:"KPIs (plataforma)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Lead time"}),": commit \u2192 deploy a ",(0,r.jsx)(s.code,{children:"stg"})," \u2264 30 min."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"MTTR"}),": rollback \u2264 10 min."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"\xc9xito de pipelines"})," \u2265 95%."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Onboarding dev"}),": ",(0,r.jsx)(s.em,{children:"setup local"})," \u2264 30 min."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Coste mensual"})," dentro de presupuesto (\xb120%)."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"riesgos--open-questions",children:"Riesgos & Open Questions"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Complejidad inicial de AKS con equipo chico \u2192 plantillas y ",(0,r.jsx)(s.em,{children:"starter charts"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Elecci\xf3n Bicep vs Terraform \u2192 ",(0,r.jsx)(s.strong,{children:"decidir"})," (Propuesta: Bicep si solo Azure, Terraform si se prev\xe9 multi\u2011cloud)."]}),"\n",(0,r.jsx)(s.li,{children:"Seguridad de red (privado vs p\xfablico) en DB/AI Search seg\xfan presupuesto/tiempos."}),"\n",(0,r.jsxs)(s.li,{children:["Trazabilidad de eventos (Service Bus) \u2192 definir ",(0,r.jsx)(s.em,{children:"dead\u2011letter"})," y reintentos."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"checklist--next-steps",children:"Checklist / Next Steps"}),"\n",(0,r.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Elegir ",(0,r.jsx)(s.strong,{children:"IaC"}),": Bicep (",(0,r.jsx)(s.em,{children:"propuesta"}),") o Terraform."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Crear repos y ",(0,r.jsx)(s.em,{children:"branch protection"})," (",(0,r.jsx)(s.code,{children:"main"}),")."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Provisionar ",(0,r.jsx)(s.strong,{children:"AKS"}),", ",(0,r.jsx)(s.strong,{children:"ACR"}),", ",(0,r.jsx)(s.strong,{children:"Front Door"}),", ",(0,r.jsx)(s.strong,{children:"Key Vault"}),", ",(0,r.jsx)(s.strong,{children:"App Insights"}),", ",(0,r.jsx)(s.strong,{children:"App Config"}),"."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Provisionar ",(0,r.jsx)(s.strong,{children:"PostgreSQL"}),", ",(0,r.jsx)(s.strong,{children:"Redis"}),", ",(0,r.jsx)(s.strong,{children:"Service Bus"}),", ",(0,r.jsx)(s.strong,{children:"Blob"}),"; ",(0,r.jsx)(s.em,{children:"seeding"})," m\xednimo."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Provisionar ",(0,r.jsx)(s.strong,{children:"AI Search"})," y cablear IR base (\xedndices vac\xedos + ",(0,r.jsx)(s.code,{children:"/search"})," ping)."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Configurar ",(0,r.jsx)(s.strong,{children:"CI/CD"})," (GH Actions) para FE, BE, IR con deploy a ",(0,r.jsx)(s.code,{children:"dev/stg"}),"."]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Publicar ",(0,r.jsx)(s.strong,{children:"runbooks"}),": rollback, rotaci\xf3n de secretos, incident response."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"backlog-jira-\xe9pica--historias--subtareas",children:"Backlog Jira (\xc9pica \u2192 Historias \u2192 Subtareas)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"EPIC"}),": VyteMerge \u2014 Platform & Infrastructure Setup (MVP)"]}),"\n",(0,r.jsx)(s.h3,{id:"story-1--repos--ci-b\xe1sico",children:"Story 1 \u2014 Repos & CI B\xe1sico"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Desc."})," Repos iniciales (FE/BE/IR), ",(0,r.jsx)(s.em,{children:"branch protection"}),", GH Actions lint+test+build.\n",(0,r.jsx)(s.strong,{children:"AC"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Pipeline verde en PR (lint+test)."}),"\n",(0,r.jsx)(s.li,{children:"Artefactos construidos."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Subtareas"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Crear repos + plantillas (README, CODEOWNERS)."}),"\n",(0,r.jsx)(s.li,{children:"GH Actions b\xe1sicos (Node/.NET/Python)."}),"\n",(0,r.jsx)(s.li,{children:"Dependabot y SCA."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"story-2--contenedores--aks-devstg",children:"Story 2 \u2014 Contenedores & AKS (dev/stg)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Desc."})," ACR, im\xe1genes, despliegue ",(0,r.jsx)(s.em,{children:"hello\u2011world"})," en AKS.\n",(0,r.jsx)(s.strong,{children:"AC"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Im\xe1genes ",(0,r.jsx)(s.code,{children:":sha"})," en ACR."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"kubectl get pods"})," sano; ",(0,r.jsx)(s.code,{children:"readyz"})," ok."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Subtareas"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Dockerfiles (FE/BE/IR)."}),"\n",(0,r.jsx)(s.li,{children:"Helm/manifests."}),"\n",(0,r.jsx)(s.li,{children:"HPA simple."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"story-3--seguridad--secrets",children:"Story 3 \u2014 Seguridad & Secrets"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Desc."})," Key Vault + CSI Driver; secrets fuera de repos.\n",(0,r.jsx)(s.strong,{children:"AC"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Variables cr\xedticas ",(0,r.jsx)(s.strong,{children:"solo"})," en Key Vault."]}),"\n",(0,r.jsx)(s.li,{children:"Rotaci\xf3n documentada."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Subtareas"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"KV + permisos."}),"\n",(0,r.jsx)(s.li,{children:"Montaje en pods."}),"\n",(0,r.jsx)(s.li,{children:"Rotaci\xf3n y auditor\xeda."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"story-4--observabilidad",children:"Story 4 \u2014 Observabilidad"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Desc."})," App Insights + OpenTelemetry; dashboards y alertas.\n",(0,r.jsx)(s.strong,{children:"AC"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"TraceId E2E visible."}),"\n",(0,r.jsx)(s.li,{children:"Alertas p95/error/backlog activas."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Subtareas"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"SDK OTel en BE/IR."}),"\n",(0,r.jsx)(s.li,{children:"Dashboards & alert rules."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"story-5--datos--mensajer\xeda",children:"Story 5 \u2014 Datos & Mensajer\xeda"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Desc."})," PostgreSQL, Redis, Service Bus y ",(0,r.jsx)(s.em,{children:"hello event"}),".\n",(0,r.jsx)(s.strong,{children:"AC"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Conexiones seguras (TLS)."}),"\n",(0,r.jsx)(s.li,{children:"Evento de prueba circula de Monolito \u2192 SB \u2192 IR."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Subtareas"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Provisionar PG/Redis/SB."}),"\n",(0,r.jsx)(s.li,{children:"Topic/cola + DLQ."}),"\n",(0,r.jsx)(s.li,{children:"Consumer IR demo."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"story-6--front-door--waf",children:"Story 6 \u2014 Front Door & WAF"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Desc."})," CDN/WAF, dominios, TLS.\n",(0,r.jsx)(s.strong,{children:"AC"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"app.dev.*"})," sirviendo."]}),"\n",(0,r.jsx)(s.li,{children:"Reglas OWASP activas."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Subtareas"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"DNS + certs."}),"\n",(0,r.jsx)(s.li,{children:"Reglas WAF."}),"\n",(0,r.jsx)(s.li,{children:"Health probes."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"story-7--ir-base-ai-search--endpoints",children:"Story 7 \u2014 IR Base (AI Search & Endpoints)"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Desc."})," Provisi\xf3n AI Search, \xedndice base y ",(0,r.jsx)(s.code,{children:"/search"}),"/",(0,r.jsx)(s.code,{children:"/feed"})," ",(0,r.jsx)(s.em,{children:"stub"}),".\n",(0,r.jsx)(s.strong,{children:"AC"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"GET /search"})," y ",(0,r.jsx)(s.code,{children:"GET /feed"})," retornan 200 con estructura."]}),"\n",(0,r.jsx)(s.li,{children:"\xcdndice vac\xedo creado."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.em,{children:"Subtareas"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Crear \xedndice (schema vac\xedo)."}),"\n",(0,r.jsxs)(s.li,{children:["FastAPI ",(0,r.jsx)(s.em,{children:"skeleton"}),"."]}),"\n",(0,r.jsx)(s.li,{children:"Redis cache b\xe1sico."}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>d});var i=n(6540);const r={},l=i.createContext(r);function c(e){const s=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(l.Provider,{value:s},e.children)}}}]);