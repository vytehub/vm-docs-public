"use strict";(self.webpackChunkvyte_merge_docs=self.webpackChunkvyte_merge_docs||[]).push([[4105],{3486:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"core-domain/bounded-contexts/Offer - Catalog & Listings/listing/scheduling_slots","title":"Scheduling & Slots","description":"C\xf3mo se configuran horarios y c\xf3mo VyteMerge genera Slots (Semanal, Personalizado cada N semanas, D\xeda por d\xeda + Excepciones).","source":"@site/docs/00-core-domain/04-bounded-contexts/03.Offer - Catalog & Listings/02.listing/04.scheduling_slots.md","sourceDirName":"00-core-domain/04-bounded-contexts/03.Offer - Catalog & Listings/02.listing","slug":"/core-domain/bounded-contexts/Offer - Catalog & Listings/listing/scheduling_slots","permalink":"/vm-docs-public/docs/core-domain/bounded-contexts/Offer - Catalog & Listings/listing/scheduling_slots","draft":false,"unlisted":false,"editUrl":"https://github.com/vytehub/vm-docs/tree/main/docs/00-core-domain/04-bounded-contexts/03.Offer - Catalog & Listings/02.listing/04.scheduling_slots.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Scheduling & Slots","description":"C\xf3mo se configuran horarios y c\xf3mo VyteMerge genera Slots (Semanal, Personalizado cada N semanas, D\xeda por d\xeda + Excepciones)."},"sidebar":"tutorialSidebar","previous":{"title":"Add-ons & Bundles","permalink":"/vm-docs-public/docs/core-domain/bounded-contexts/Offer - Catalog & Listings/listing/add_ons_bundles"},"next":{"title":"Booking Rules","permalink":"/vm-docs-public/docs/core-domain/bounded-contexts/Offer - Catalog & Listings/listing/booking_rules"}}');var l=s(74848),a=s(28453);const o={title:"Scheduling & Slots",description:"C\xf3mo se configuran horarios y c\xf3mo VyteMerge genera Slots (Semanal, Personalizado cada N semanas, D\xeda por d\xeda + Excepciones)."},c="Scheduling & Slots",d={},r=[{value:"TL;DR",id:"tldr",level:2},{value:"Conceptos base",id:"conceptos-base",level:2},{value:"Slot Duration y Gap",id:"slot-duration-y-gap",level:3},{value:"Regla simple",id:"regla-simple",level:4},{value:"Modo 1: Semanal",id:"modo-1-semanal",level:2},{value:"Qu\xe9 hace",id:"qu\xe9-hace",level:3},{value:"Configuraci\xf3n",id:"configuraci\xf3n",level:3},{value:"Reglas de consistencia",id:"reglas-de-consistencia",level:3},{value:"Modo 2: Personalizado (cada N semanas)",id:"modo-2-personalizado-cada-n-semanas",level:2},{value:"Qu\xe9 hace",id:"qu\xe9-hace-1",level:3},{value:"Configuraci\xf3n",id:"configuraci\xf3n-1",level:3},{value:"Ejemplo",id:"ejemplo",level:3},{value:"Modo 3: D\xeda por d\xeda (manual por fecha)",id:"modo-3-d\xeda-por-d\xeda-manual-por-fecha",level:2},{value:"Qu\xe9 hace",id:"qu\xe9-hace-2",level:3},{value:"Configuraci\xf3n",id:"configuraci\xf3n-2",level:3},{value:"Reglas de consistencia",id:"reglas-de-consistencia-1",level:3},{value:"Excepciones (Exceptions)",id:"excepciones-exceptions",level:2},{value:"Qu\xe9 son",id:"qu\xe9-son",level:3},{value:"Tipos de excepci\xf3n",id:"tipos-de-excepci\xf3n",level:3},{value:"Prioridad",id:"prioridad",level:3},{value:"Qu\xe9 pasa cuando cambian reglas o se confirma un booking",id:"qu\xe9-pasa-cuando-cambian-reglas-o-se-confirma-un-booking",level:2},{value:"Revalidaci\xf3n al reservar",id:"revalidaci\xf3n-al-reservar",level:3},{value:"Cambios en scheduling",id:"cambios-en-scheduling",level:3},{value:"Checklist",id:"checklist",level:2}];function t(e){const n={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"scheduling--slots",children:"Scheduling & Slots"})}),"\n",(0,l.jsx)(n.h2,{id:"tldr",children:"TL;DR"}),"\n",(0,l.jsxs)(n.p,{children:["Un ",(0,l.jsx)(n.strong,{children:"Service Listing"})," puede ser reservable porque define un ",(0,l.jsx)(n.strong,{children:"Scheduling Pattern"})," (un patr\xf3n de horarios).\nA partir de ese patr\xf3n, el sistema genera ",(0,l.jsx)(n.strong,{children:"Slots"})," (huecos reservables) para mostrar y permitir bookings."]}),"\n",(0,l.jsx)(n.p,{children:"VyteMerge soporta 3 modos de scheduling:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Semanal"})," (se repite todas las semanas)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Personalizado"})," (se repite cada ",(0,l.jsx)(n.code,{children:"N"})," semanas)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"D\xeda por d\xeda"})," (configuraci\xf3n manual por fecha)"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Adem\xe1s, se soportan ",(0,l.jsx)(n.strong,{children:"Excepciones"})," para modificar d\xedas puntuales."]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["Los ",(0,l.jsx)(n.strong,{children:"Slots"})," son una proyecci\xf3n.",(0,l.jsx)(n.br,{}),"\n","Cuando se crea un ",(0,l.jsx)(n.strong,{children:"Booking"}),", el sistema debe revalidar conflictos/capacidad antes de confirmar."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"conceptos-base",children:"Conceptos base"}),"\n",(0,l.jsx)(n.h3,{id:"slot-duration-y-gap",children:"Slot Duration y Gap"}),"\n",(0,l.jsx)(n.p,{children:"Para generar slots dentro de un rango horario se usan:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"SlotDuration"}),": duraci\xf3n del slot (ej: 15m, 30m, 60m, 90m)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"GapBetweenSlots"})," (opcional): margen entre slots (ej: 0m, 10m, 30m)"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"regla-simple",children:"Regla simple"}),"\n",(0,l.jsxs)(n.p,{children:["Dado un rango ",(0,l.jsx)(n.code,{children:"[Start, End)"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Se van creando slots consecutivos de ",(0,l.jsx)(n.code,{children:"SlotDuration"})]}),"\n",(0,l.jsxs)(n.li,{children:["Entre slots se suma ",(0,l.jsx)(n.code,{children:"GapBetweenSlots"})]}),"\n",(0,l.jsxs)(n.li,{children:["No se generan slots que excedan ",(0,l.jsx)(n.code,{children:"End"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Rango: ",(0,l.jsx)(n.code,{children:"09:00\u201311:30"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"SlotDuration"}),": ",(0,l.jsx)(n.code,{children:"01:00"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"GapBetweenSlots"}),": ",(0,l.jsx)(n.code,{children:"00:30"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Slots:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"09:00\u201310:00"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"10:30\u201311:30"})}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"modo-1-semanal",children:"Modo 1: Semanal"}),"\n",(0,l.jsx)(n.h3,{id:"qu\xe9-hace",children:"Qu\xe9 hace"}),"\n",(0,l.jsxs)(n.p,{children:["Define disponibilidad por ",(0,l.jsx)(n.strong,{children:"d\xeda de la semana"})," y la repite ",(0,l.jsx)(n.strong,{children:"todas las semanas"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"configuraci\xf3n",children:"Configuraci\xf3n"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Seleccionar d\xedas: ",(0,l.jsx)(n.code,{children:"Lun..Dom"})]}),"\n",(0,l.jsxs)(n.li,{children:["Para cada d\xeda, definir uno o m\xe1s rangos (ej: ",(0,l.jsx)(n.code,{children:"09:00\u201313:30"})," y ",(0,l.jsx)(n.code,{children:"16:00\u201320:00"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Definir ",(0,l.jsx)(n.code,{children:"StartDate"})," (desde cu\xe1ndo aplica)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"EndDate"})," (opcional): hasta cu\xe1ndo aplica"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"reglas-de-consistencia",children:"Reglas de consistencia"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Un mismo d\xeda de semana puede tener ",(0,l.jsx)(n.strong,{children:"varios rangos"}),", pero deben ser ",(0,l.jsx)(n.strong,{children:"no solapados"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Si ",(0,l.jsx)(n.code,{children:"EndDate"})," no existe, el patr\xf3n es indefinido (hasta que se cambie)."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"modo-2-personalizado-cada-n-semanas",children:"Modo 2: Personalizado (cada N semanas)"}),"\n",(0,l.jsx)(n.h3,{id:"qu\xe9-hace-1",children:"Qu\xe9 hace"}),"\n",(0,l.jsxs)(n.p,{children:["Igual que Semanal, pero el patr\xf3n se repite ",(0,l.jsxs)(n.strong,{children:["cada ",(0,l.jsx)(n.code,{children:"N"})," semanas"]}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"configuraci\xf3n-1",children:"Configuraci\xf3n"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["D\xedas: ",(0,l.jsx)(n.code,{children:"Lun..Dom"})]}),"\n",(0,l.jsx)(n.li,{children:"Rangos por d\xeda (no solapados)"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"StartDate"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"EndDate"})," (opcional)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"RepeatEveryNWeeks"})," (ej: ",(0,l.jsx)(n.code,{children:"2"}),", ",(0,l.jsx)(n.code,{children:"3"}),", ",(0,l.jsx)(n.code,{children:"4"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"ejemplo",children:"Ejemplo"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"RepeatEveryNWeeks = 2"})}),"\n",(0,l.jsxs)(n.li,{children:["Configuro viernes ",(0,l.jsx)(n.code,{children:"09:00\u201311:30"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Se generan slots solo en \u201cviernes alternos\u201d dentro del rango de fechas configurado."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"modo-3-d\xeda-por-d\xeda-manual-por-fecha",children:"Modo 3: D\xeda por d\xeda (manual por fecha)"}),"\n",(0,l.jsx)(n.h3,{id:"qu\xe9-hace-2",children:"Qu\xe9 hace"}),"\n",(0,l.jsxs)(n.p,{children:["Define disponibilidad ",(0,l.jsx)(n.strong,{children:"para fechas espec\xedficas"}),", sin repetici\xf3n autom\xe1tica."]}),"\n",(0,l.jsx)(n.h3,{id:"configuraci\xf3n-2",children:"Configuraci\xf3n"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Elegir fecha(s) en calendario"}),"\n",(0,l.jsxs)(n.li,{children:["Definir rangos para cada fecha (ej: ",(0,l.jsx)(n.code,{children:"09:00\u201312:00"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Definir ",(0,l.jsx)(n.code,{children:"SlotDuration"})," y ",(0,l.jsx)(n.code,{children:"GapBetweenSlots"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"reglas-de-consistencia-1",children:"Reglas de consistencia"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Una misma fecha puede tener ",(0,l.jsx)(n.strong,{children:"varios rangos"}),", pero deben ser ",(0,l.jsx)(n.strong,{children:"no solapados"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Este modo es ideal para:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"agendas irregulares"}),"\n",(0,l.jsx)(n.li,{children:"semanas especiales"}),"\n",(0,l.jsx)(n.li,{children:"eventos \xfanicos"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"excepciones-exceptions",children:"Excepciones (Exceptions)"}),"\n",(0,l.jsx)(n.h3,{id:"qu\xe9-son",children:"Qu\xe9 son"}),"\n",(0,l.jsx)(n.p,{children:"Las excepciones permiten cambiar un d\xeda puntual aunque exista un patr\xf3n semanal o personalizado."}),"\n",(0,l.jsx)(n.p,{children:"Ejemplos t\xedpicos:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"feriado (cerrado)"}),"\n",(0,l.jsx)(n.li,{children:"d\xeda especial con horario distinto"}),"\n",(0,l.jsx)(n.li,{children:"bloqueo total por viaje/congreso"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"tipos-de-excepci\xf3n",children:"Tipos de excepci\xf3n"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"BlockDay"}),": bloquear todo el d\xeda (sin slots)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"OverrideRanges"}),": reemplazar rangos del d\xeda por rangos espec\xedficos"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"prioridad",children:"Prioridad"}),"\n",(0,l.jsx)(n.p,{children:"Para una fecha concreta:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Si existe excepci\xf3n \u2192 se aplica la excepci\xf3n"}),"\n",(0,l.jsx)(n.li,{children:"Si no existe excepci\xf3n \u2192 se usa el patr\xf3n (semanal/personalizado/d\xeda por d\xeda)"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"qu\xe9-pasa-cuando-cambian-reglas-o-se-confirma-un-booking",children:"Qu\xe9 pasa cuando cambian reglas o se confirma un booking"}),"\n",(0,l.jsx)(n.h3,{id:"revalidaci\xf3n-al-reservar",children:"Revalidaci\xf3n al reservar"}),"\n",(0,l.jsx)(n.p,{children:"Al confirmar un booking, el sistema debe revalidar:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Conflicts del Timeline (Conflict Rules)"}),"\n",(0,l.jsx)(n.li,{children:"Shared Capacity / Staff pools (si aplica)"}),"\n",(0,l.jsx)(n.li,{children:"Bloqueos (Access / Agreements si afecta visibilidad/acciones)"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Esto evita overbooking si un slot qued\xf3 \u201cviejo\u201d porque cambi\xf3 el contexto."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"cambios-en-scheduling",children:"Cambios en scheduling"}),"\n",(0,l.jsx)(n.p,{children:"Si el owner cambia el scheduling:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"cambia la proyecci\xf3n de slots futuros"}),"\n",(0,l.jsx)(n.li,{children:"bookings existentes NO se borran (solo se afectan slots futuros)"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"checklist",children:"Checklist"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Soportar 3 modos: Semanal, Personalizado cada N semanas, D\xeda por d\xeda"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Rangos no solapados por d\xeda/fecha"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Excepciones con prioridad sobre el patr\xf3n"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Revalidaci\xf3n al crear booking"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var i=s(96540);const l={},a=i.createContext(l);function o(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);