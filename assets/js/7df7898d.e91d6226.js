"use strict";(self.webpackChunkvyte_merge_docs=self.webpackChunkvyte_merge_docs||[]).push([[7186],{285:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"core-domain/bounded-contexts/Foundation & Governance/access/index","title":"Access","description":"\xc1rbitro central de permisos y visibilidad. Decide qu\xe9 puede ver/hacer un actor sobre un recurso.","source":"@site/docs/00-core-domain/04-bounded-contexts/01.Foundation & Governance/2.access/index.md","sourceDirName":"00-core-domain/04-bounded-contexts/01.Foundation & Governance/2.access","slug":"/core-domain/bounded-contexts/Foundation & Governance/access/","permalink":"/vm-docs-public/docs/core-domain/bounded-contexts/Foundation & Governance/access/","draft":false,"unlisted":false,"editUrl":"https://github.com/vytehub/vm-docs/tree/main/docs/00-core-domain/04-bounded-contexts/01.Foundation & Governance/2.access/index.md","tags":[],"version":"current","frontMatter":{"title":"Access","description":"\xc1rbitro central de permisos y visibilidad. Decide qu\xe9 puede ver/hacer un actor sobre un recurso."},"sidebar":"tutorialSidebar","previous":{"title":"Privacy & Visibility","permalink":"/vm-docs-public/docs/core-domain/bounded-contexts/Foundation & Governance/users/privacy_visibility"},"next":{"title":"Agreements","permalink":"/vm-docs-public/docs/core-domain/bounded-contexts/Foundation & Governance/agreements/"}}');var l=s(74848),r=s(28453);const o={title:"Access",description:"\xc1rbitro central de permisos y visibilidad. Decide qu\xe9 puede ver/hacer un actor sobre un recurso."},c="M\xf3dulo Access",d={},a=[{value:"TL;DR",id:"tldr",level:2},{value:"Contexto / Objetivo",id:"contexto--objetivo",level:2},{value:"Qu\xe9 problemas resuelve",id:"qu\xe9-problemas-resuelve",level:2},{value:"Concepto clave: AccessDecision + VisibilityMode",id:"concepto-clave-accessdecision--visibilitymode",level:2},{value:"VisibilityMode",id:"visibilitymode",level:3},{value:"Access no devuelve datos",id:"access-no-devuelve-datos",level:2},{value:"Responsabilidades por m\xf3dulo (separaci\xf3n clara)",id:"responsabilidades-por-m\xf3dulo-separaci\xf3n-clara",level:2},{value:"C\xf3mo opera Access (modelo mental)",id:"c\xf3mo-opera-access-modelo-mental",level:2},{value:"Ejemplos de negocio",id:"ejemplos-de-negocio",level:2},{value:"Perfil tipo Instagram",id:"perfil-tipo-instagram",level:3},{value:"Staff interno (est\xe9tica nails)",id:"staff-interno-est\xe9tica-nails",level:3},{value:"Agenda compartida",id:"agenda-compartida",level:3},{value:"Beneficios del enfoque",id:"beneficios-del-enfoque",level:2},{value:"Checklist / Pr\xf3ximos pasos",id:"checklist--pr\xf3ximos-pasos",level:2}];function t(e){const n={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"m\xf3dulo-access",children:"M\xf3dulo Access"})}),"\n",(0,l.jsx)(n.h2,{id:"tldr",children:"TL;DR"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Access"})," es el \u201c\xe1rbitro\u201d que decide ",(0,l.jsx)(n.strong,{children:"qu\xe9 puede ver o hacer"})," un usuario (actor) sobre un recurso (profile, timeline, listing, etc.), de forma ",(0,l.jsx)(n.strong,{children:"consistente"})," en toda la plataforma."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No almacena contenido de negocio."}),"\n",(0,l.jsx)(n.li,{children:"No devuelve datos (perfiles, timelines, bookings)."}),"\n",(0,l.jsxs)(n.li,{children:["Devuelve una ",(0,l.jsx)(n.strong,{children:"decisi\xf3n"}),": permitido/denegado + nivel de visibilidad."]}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Si quer\xe9s evitar bugs de privacidad y l\xf3gica duplicada, Access debe ser el \xfanico lugar donde se \u201cdecide\u201d."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"contexto--objetivo",children:"Contexto / Objetivo"}),"\n",(0,l.jsx)(n.p,{children:"En VyteMerge, los recursos se cruzan con reglas sociales y comerciales:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"cuentas p\xfablicas/privadas"}),"\n",(0,l.jsx)(n.li,{children:"followers aceptados o no"}),"\n",(0,l.jsx)(n.li,{children:"usuarios bloqueados"}),"\n",(0,l.jsx)(n.li,{children:"contenido compartido manualmente"}),"\n",(0,l.jsx)(n.li,{children:"delegaci\xf3n operativa (staff)"}),"\n",(0,l.jsx)(n.li,{children:"partners/resellers (agreements)"}),"\n",(0,l.jsx)(n.li,{children:"recursos \u201cen organizaciones\u201d (ej. consultorio con m\xfaltiples profesionales)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Sin un m\xf3dulo central, estas reglas tienden a:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"duplicarse en endpoints"}),"\n",(0,l.jsx)(n.li,{children:"divergir entre m\xf3dulos"}),"\n",(0,l.jsx)(n.li,{children:"romperse cuando agreg\xe1s features (channels, partners, campa\xf1as, etc.)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Access existe para concentrar esas decisiones."})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"qu\xe9-problemas-resuelve",children:"Qu\xe9 problemas resuelve"}),"\n",(0,l.jsx)(n.p,{children:"Access responde preguntas como:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\xbfPuedo ver este Profile? \xbfcon qu\xe9 detalle?"}),"\n",(0,l.jsx)(n.li,{children:"\xbfPuedo ver este Timeline? \xbfsolo ocupado o con detalle?"}),"\n",(0,l.jsx)(n.li,{children:"\xbfEstoy bloqueado por este usuario/organizaci\xf3n?"}),"\n",(0,l.jsx)(n.li,{children:"\xbfTengo un Agreement que me habilita (staff/partner/sharing)?"}),"\n",(0,l.jsx)(n.li,{children:"\xbfPuedo gestionar (operar) un recurso o solo verlo?"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Y lo hace sin que Users/Timelines/Listings tengan que conocer reglas sociales o de agreements."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"concepto-clave-accessdecision--visibilitymode",children:"Concepto clave: AccessDecision + VisibilityMode"}),"\n",(0,l.jsxs)(n.p,{children:["Access no decide \u201cqu\xe9 endpoint llamar\u201d.\nDecide ",(0,l.jsx)(n.strong,{children:"cu\xe1nta informaci\xf3n es visible"})," y ",(0,l.jsx)(n.strong,{children:"qu\xe9 acciones est\xe1n permitidas"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"visibilitymode",children:"VisibilityMode"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"None"}),(0,l.jsx)(n.br,{}),"\n","No hay acceso. El recurso se comporta como inexistente (o \u201cno disponible\u201d)."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"BusyOnly"}),(0,l.jsx)(n.br,{}),"\n","Vista m\xednima. El recurso existe, pero sin detalles sensibles.",(0,l.jsx)(n.br,{}),"\n","Ejemplo: \u201cocupado / hay disponibilidad\u201d, sin horarios exactos ni datos privados."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"BusyOnlyDetails"}),(0,l.jsx)(n.br,{}),"\n","Vista completa dentro de lo permitido por la plataforma.",(0,l.jsx)(n.br,{}),"\n","Ejemplo: detalles completos del perfil o listing; horarios exactos si corresponde."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["Regla mental: ",(0,l.jsx)(n.code,{children:"VisibilityMode"})," controla \u201ccu\xe1nto detalle se revela\u201d, no \u201csi existe\u201d."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"access-no-devuelve-datos",children:"Access no devuelve datos"}),"\n",(0,l.jsxs)(n.p,{children:["Access devuelve una ",(0,l.jsx)(n.strong,{children:"decisi\xf3n"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Allowed"})," (bool)"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"VisibilityMode"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Reason"})," (auditor\xeda / debugging / soporte)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Cada endpoint representa esa decisi\xf3n en su respuesta:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"ocultar campos"}),"\n",(0,l.jsx)(n.li,{children:"degradar informaci\xf3n"}),"\n",(0,l.jsx)(n.li,{children:"esconder CTAs (reservar/contactar)"}),"\n",(0,l.jsx)(n.li,{children:"devolver 404/403 seg\xfan pol\xedtica UX"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"responsabilidades-por-m\xf3dulo-separaci\xf3n-clara",children:"Responsabilidades por m\xf3dulo (separaci\xf3n clara)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Users"}),(0,l.jsx)(n.br,{}),"\n","Define el Profile/usuario y su privacidad (p\xfablico/privado)."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Social"}),(0,l.jsx)(n.br,{}),"\n","Define relaciones: follow, block."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Agreements"}),(0,l.jsx)(n.br,{}),"\n","Define relaciones formales: sharing, staff, partner/reseller + t\xe9rminos + permisos."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Timelines"}),(0,l.jsx)(n.br,{}),"\n","Define el timeline (tiempo/agenda)."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Catalog / Listings"}),(0,l.jsx)(n.br,{}),"\n","Define qu\xe9 se vende y c\xf3mo se vende."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Access"}),(0,l.jsx)(n.br,{}),"\n","Decide si un actor puede ver/usar esos recursos, combinando:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"privacy"}),"\n",(0,l.jsx)(n.li,{children:"follow/block"}),"\n",(0,l.jsx)(n.li,{children:"agreements/permisos"}),"\n",(0,l.jsx)(n.li,{children:"reglas de cada recurso (por tipo)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"c\xf3mo-opera-access-modelo-mental",children:"C\xf3mo opera Access (modelo mental)"}),"\n",(0,l.jsxs)(n.p,{children:["Access eval\xfaa por ",(0,l.jsx)(n.strong,{children:"tipo de recurso"})," usando evaluators."]}),"\n",(0,l.jsx)(n.p,{children:"Ejemplos:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"ProfileAccessEvaluator"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"TimelineAccessEvaluator"})}),"\n",(0,l.jsxs)(n.li,{children:["(futuro) ",(0,l.jsx)(n.code,{children:"ListingAccessEvaluator"}),", ",(0,l.jsx)(n.code,{children:"BookingAccessEvaluator"}),", etc."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Cada evaluator consulta las ",(0,l.jsx)(n.strong,{children:"Public APIs"})," necesarias:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"UsersPublicApi (existencia + privacy del profile)"}),"\n",(0,l.jsx)(n.li,{children:"TimelinesPublicApi (existencia + owner + privacy)"}),"\n",(0,l.jsx)(n.li,{children:"Social (follow status + block)"}),"\n",(0,l.jsx)(n.li,{children:"Agreements (si aplica)"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Access \u201corquesta\u201d reglas; los datos viven en los m\xf3dulos due\xf1os."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"ejemplos-de-negocio",children:"Ejemplos de negocio"}),"\n",(0,l.jsx)(n.h3,{id:"perfil-tipo-instagram",children:"Perfil tipo Instagram"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Perfil p\xfablico \u2192 ",(0,l.jsx)(n.code,{children:"BusyOnlyDetails"})]}),"\n",(0,l.jsxs)(n.li,{children:["Perfil privado + follower aceptado \u2192 ",(0,l.jsx)(n.code,{children:"BusyOnlyDetails"})]}),"\n",(0,l.jsxs)(n.li,{children:["Perfil privado + no follower \u2192 ",(0,l.jsx)(n.code,{children:"BusyOnly"})]}),"\n",(0,l.jsxs)(n.li,{children:["Bloqueado \u2192 ",(0,l.jsx)(n.code,{children:"None"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"staff-interno-est\xe9tica-nails",children:"Staff interno (est\xe9tica nails)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Cliente ve listing: \u201cAtiende Est\xe9tica X\u201d (no ve empleada)"}),"\n",(0,l.jsx)(n.li,{children:"Internamente el booking se asigna a staff (agreement)"}),"\n",(0,l.jsx)(n.li,{children:"Staff ve el evento en su timeline (seg\xfan permisos)"}),"\n",(0,l.jsxs)(n.li,{children:["Cliente ",(0,l.jsx)(n.strong,{children:"no"})," ve identidad del staff aunque exista staff agreement"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"agenda-compartida",children:"Agenda compartida"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Pareja/familia (sharing) \u2192 puede ver \u201cocupado\u201d o detalle seg\xfan permiso"}),"\n",(0,l.jsxs)(n.li,{children:["Staff (delegation) \u2192 puede gestionar agenda (si se le otorg\xf3 ",(0,l.jsx)(n.code,{children:"ManageSchedule"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Usuario bloqueado \u2192 ",(0,l.jsx)(n.code,{children:"None"})]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"beneficios-del-enfoque",children:"Beneficios del enfoque"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"reglas consistentes en toda la plataforma"}),"\n",(0,l.jsx)(n.li,{children:"menos bugs de privacidad"}),"\n",(0,l.jsx)(n.li,{children:"menos l\xf3gica duplicada en endpoints"}),"\n",(0,l.jsx)(n.li,{children:"f\xe1cil agregar nuevos recursos (nuevo evaluator)"}),"\n",(0,l.jsx)(n.li,{children:"mejor auditabilidad (reasons + agreements)"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"checklist--pr\xf3ximos-pasos",children:"Checklist / Pr\xf3ximos pasos"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Definir qu\xe9 recursos tienen evaluator en MVP (Profile, Timeline, Listing)"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Mapear cada ",(0,l.jsx)(n.code,{children:"VisibilityMode"})," a una pol\xedtica concreta por endpoint"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Asegurar que ning\xfan endpoint \u201cdecida\u201d privacidad por su cuenta"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Documentar razones est\xe1ndar (Blocked, Owner, FollowerAccess, Agreement, etc.)"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var i=s(96540);const l={},r=i.createContext(l);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);